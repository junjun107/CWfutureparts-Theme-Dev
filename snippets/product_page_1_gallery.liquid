


{%- assign op_group = false -%}
{%- assign product_meta_g = product.metafields.productgallery -%}
{%- if product_meta_g.group != blank -%}
{%- assign op_group = product_meta_g.group | split: ',' -%}
{%- endif -%}

{%- case type -%}



{%- when 'four_images' -%}
<div class="col-6 hidden-xs">
  <div class="product-images-col four-images-js{% if item.stickygallery %} stickprcol-js{% endif %}{% unless item.gallery_no_zoom %} no-zoom{% endunless %}" data-scrollzoom="{{ item.gallery_scroll }}">

	{%- for img in product.images -%}{% if img == product.selected_variant.image %}{% assign start_l = forloop.index0 %}{% break %}{% endif %}{%- endfor -%}

    {%- for image in product.images offset: start_l limit: 4 -%}
    <div class="item">
      <img class="zoom-product" src='{{ image.src | product_img_url: '600x' }}' alt="{{ image.alt }}">
    </div>
    {%- endfor -%}
    {%- unless product_meta.video == blank -%}
    <div class="item">
      <div data-value="{{ product_meta.video }}" class="video-link-product" data-toggle="modal" data-type="youtube" data-target="#modalVideoProduct">
        <i class="icon-f-32"></i>
      </div>
    </div>
    {%- endunless -%}
  </div>
</div>

{%- when 'vertical' -%}
<div class="col-6 hidden-xs">
  <div class="tt-product-vertical-layout{% if item.stickygallery %} stickprcol-js{% endif %}">
    <div class="tt-product-single-img{% unless item.gallery_no_zoom %} no-zoom{% endunless %}" data-scrollzoom="{{ item.gallery_scroll }}"{% if item.show_thumbnails == false%} style="width: 100%;"{% endif %}>
      {%- if item.show_thumbnails and product.media.size > 1 and item.show_thumbnails_arrows and 0 -%}
      <div id="custom-product-item">
        <button type="button" class="slick-arrow slick-prev">Previous</button>
        <button type="button" class="slick-arrow slick-next">Next</button>
      </div>
      {%- endif -%}
     
      
    {%- if   product.selected_variant.metafields.custom.variant_img != blank-%}
       <!--pc端--- 有sku 的图 大图  -->
          <div class="mediaimageholder" {% if  product.selected_variant.metafields.custom.variant_video %} style="display: none;"{% endif %}>
            <button class="tt-btn-zomm tt-top-right tt-btn-zomm-product-page"><i class="icon-f-86"></i></button>

               <script type="text/javascript">
                var variant_img =  {{product.selected_variant.metafields.custom.variant_img}}
                    document.write(`
                     <img class="zoom-product"
                         src='${ variant_img[0] }'
                         data-zoom-image="${ variant_img[0] }"
                         alt="${ variant_img[0]}" />
                    
                    `)
      
                  </script >
            
          </div>
          <div class="mediaholder"{% if product.selected_variant.metafields.custom.variant_video %} 
            {%-  else-%}
            style="display: none;"{% endif %}>
                <div class="pt-product-media-internal" featuredmedia="">
                  <video controls="" playsinline="playsinline" class="media-video" preload="metadata" aria-label="{{ product.selected_variant.metafields.custom.variant_video }}" 
                    data-target-id="skuVodeo"
                    poster="{{  product.selected_variant.metafields.custom.variant_video_cover }}">
                    <source src="{{  product.selected_variant.metafields.custom.variant_video }}" type="video/mp4">
                    <img src="{{  product.selected_variant.metafields.custom.variant_video_cover }}"  />
                  </video>  
                </div>
          </div>
          
     {%- else -%}
          <!--pc端--- 无sku 的图 大图  -->
          <div class="mediaimageholder"{% if product.featured_media.media_type != 'image' %} style="display: none;"{% endif %}>
            
            <button class="tt-btn-zomm tt-top-right tt-btn-zomm-product-page"><i class="icon-f-86"></i></button>
         
            
            <img class="zoom-product"
                 src='{{     main_url_image.src | product_img_url: '1024x1024' }}'
                 data-zoom-image="{{ main_url_image | product_img_url: '2048x2048' }}"
                 alt="{{ main_url_image.alt | escape }}" />
            
          </div>
          <div class="mediaholder"{% if product.featured_media.media_type == 'image' %} style="display: none;"{% endif %}>
      
            {% include 'media' %}
      
          </div>
      {%- endif -%}




      
    </div>
 <!-- 电脑的情况左边图片 -->
   {%- if   product.selected_variant.metafields.custom.variant_img != blank-%}
    
      
      <script type="text/javascript">
             document.write(`
      <div class="tt-product-single-carousel-vertical">
     <ul id="smallGallery" class="tt-slick-button-vertical slick-animated-show-js{% if op_group != false %} withfiltres{% endif %}">
              {%- if   product.selected_variant.metafields.custom.variant_video -%}
                <li >
                    <a href="#"  class="zoomGalleryActive"
                      
                       data-image="{{product.selected_variant.metafields.custom.variant_video_cover }}" 
                       data-target="skuVodeo"
                       data-item-type="video">
                      <div class="prpage-video-play-icon">
                        {% render "svg-product-page-play" %}
                      </div>
                      
                      <img srcset="{{product.selected_variant.metafields.custom.variant_video_cover}}" data-lazy="{{product.selected_variant.metafields.custom.variant_video_cover  }}" alt="{{ product.selected_variant.metafields.custom.variant_video_cover }}" />
                    </a>
                </li>
            {%- endif  -%} `)


          var variant_img =  {{product.selected_variant.metafields.custom.variant_img}}
                 for(item in variant_img){
                  let media = variant_img[item];
                  document.write(`
                       <li >
                         <a href="#"
                           ${item>0||'{{ product.selected_variant.metafields.custom.variant_video }}'?'':'class="zoomGalleryActive"'}
                           data-image="${ media  }" 
                           data-zoom-image="${ media }"
                           data-target="${ media }"
                           data-item-type="image">
                          <img srcset="${ media  }" data-lazy="${ media}" alt="${ media }">
                        </a>
                      </li>
                    `)
                 }
       </script> 
      
     
         
    
        
           
        {%- if op_group != false -%}{%- assign vfilter = vfilter | replace: _v, ' ' | append: _v | append: ' ' -%}{%- endif -%}
        {%- assign vfilter = '<li class="' | append: vfilter | append: '">' -%}
        {% include 'product_page_gallery_video' tagopen:vfilter tagclose:'</li>' %}
        <script type="text/javascript">
           document.write(`</ul> </div>`)
        </script>
    

     
    
    {%- else item.show_thumbnails and product.media.size > 1 -%}
    <div class="tt-product-single-carousel-vertical">
      
      <ul id="smallGallery" class="tt-slick-button-vertical slick-animated-show-js{% if op_group != false %} withfiltres{% endif %}">
        {%- assign vfilter = '' -%}
        {% for media in product.media %}
        
        {%- if op_group != false -%}{%- assign _v = 'filter' | append: op_group[forloop.index0] | replace: ' ', '_' -%}{%- endif -%}
        <li class="{{ _v }}">
          {%- if media.media_type == 'video' or media.media_type =='external_video' -%}
          <a href="#"
             {% if forloop.first %} class="zoomGalleryActive"{% endif %}
             data-image="{{ 'dummy.png' | asset_url }}" 
             data-target="{{ media.id }}"
             data-item-type="{{ media.media_type }}">
            <div class="prpage-video-play-icon">
              {% render "svg-product-page-play" %}
            </div>
            <img srcset="{{ media.preview_image | img_url: '300x' }}" data-lazy="{{ media.preview_image | img_url: 'medium' }}" alt="{{ media.alt }}">
          </a>
          {%- elsif media.media_type == 'model' -%}
          <a href="#"
             {% if forloop.first %} class="zoomGalleryActive"{% endif %}
             data-image="{{ 'dummy.png' | asset_url }}" 
             data-target="{{ media.id }}"
             data-item-type="{{ media.media_type }}">
            <div class="prpage-video-cube-icon">
              {% render "svg-product-page-cube" %}
            </div>
            <img srcset="{{ media.preview_image | img_url: '300x' }}" data-lazy="{{ media.preview_image | img_url: 'medium' }}" alt="{{ media.alt }}">
          </a>
          {%- else -%}
          <a href="#"
             {% if forloop.first %} class="zoomGalleryActive"{% endif %}
             data-image="{{ media.preview_image | img_url: '1024x1024' }}" 
             data-zoom-image="{{ media.preview_image | img_url: '2048x2048' }}"
             data-target="{{ media.id }}"
             data-item-type="{{ media.media_type }}">
            <img srcset="{{ media.preview_image | img_url: '300x' }}" data-lazy="{{ media.preview_image | img_url: 'medium' }}" alt="{{ media.alt }}">
          </a>
          {%- endif -%}
        </li>
        {%- if op_group != false -%}{%- assign vfilter = vfilter | replace: _v, ' ' | append: _v | append: ' ' -%}{%- endif -%}
        {%- endfor -%}
        {%- assign vfilter = '<li class="' | append: vfilter | append: '">' -%}
        {% include 'product_page_gallery_video' tagopen:vfilter tagclose:'</li>' %}
      </ul>
    </div>
    {%- endif -%}

  </div>
</div>

{%- when 'mobile' -%}
  
      
   {%- if   product.selected_variant.metafields.custom.variant_img != blank-%}
      <script>

           document.write(`<div class="tt-mobile-product-slider visible-xs arrow-location-center slick-animated-show-js" data-slickdots="true">`)


          
       


              let variant_video = `{{product.selected_variant.metafields.custom.variant_video}}`
              let variant_video_cover = `{{  product.selected_variant.metafields.custom.variant_video_cover }}`
               if(variant_video){
                 // poster="${variant_video_cover}"
                     document.write(`
                       <div >
                          <video controls="" playsinline="playsinline" class="media-video"  preload="metadata" aria-label="{{ product.selected_variant.metafields.custom.variant_video }}" 
                            data-target-id="skuVodeo"
                           
                            <source src="${variant_video}" type="video/mp4">
                          </video> 
                      </div>
                    `)
               }
        
              var variant_img =  {{product.selected_variant.metafields.custom.variant_img}}
                 for(item in variant_img){
                  let media = variant_img[item];
                  document.write(`
                       <div >
                         <img srcset="${media}" data-lazy="${media}" alt="${media}">
                      </div>
                    `)
                 }

          document.write(`</div>`)

      </script>
  {% else %}
 
        <div class="tt-mobile-product-slider visible-xs arrow-location-center slick-animated-show-js{% if op_group != false %} withfiltres{% endif %}" data-slickdots="{{ item.mobiledots }}">
        {%- assign vfilter = '' -%}
        {% for media in product.media %}
        	{%- if op_group != false -%}{%- assign _v = 'filter' | append: op_group[forloop.index0] | replace: ' ', '_' -%}{%- endif -%}
        	<div class="{{ _v }}">{% include 'media_content' mobilecontent:true %}</div>
        	{%- if op_group != false -%}{%- assign vfilter = vfilter | replace: _v, ' ' | append: _v | append: ' ' -%}{%- endif -%}
        {%- endfor -%}
      
        {%- unless product_meta.video == blank -%}
        <div class="{{ vfilter }}">
          <div class="embed-responsive embed-responsive-16by9">
            <iframe class="embed-responsive-item" src="{{ product_meta.video }}" allowfullscreen></iframe>
          </div>
        </div>
        {%- endunless -%}
      </div>
     {% endif %}
  
{%- else -%}
<div class="col-6 hidden-xs">
  {% if item.stickygallery %}<div class="stickprcol-js">{% endif %}
    <div class="tt-product-single-img{% unless item.gallery_no_zoom %} no-zoom{% endunless %}" data-scrollzoom="{{ item.gallery_scroll }}">
      {%- if item.show_thumbnails and product.media.size > 1 and item.show_thumbnails_arrows -%}
      <div id="custom-product-item">
        <button type="button" class="slick-arrow slick-prev">Previous</button>
        <button type="button" class="slick-arrow slick-next">Next</button>
      </div>
      {%- endif -%}
      <div class="mediaimageholder"{% if product.featured_media.media_type != 'image' %} style="display: none;"{% endif %}>
        {%- if item.show_thumbnails and product.images.size > 0 and item.show_thumbnails_zoom -%}
        <button class="tt-btn-zomm tt-top-right tt-btn-zomm-product-page"><i class="icon-f-86"></i></button>
        {%- endif -%}
        <img class="zoom-product"
             src='{{ main_url_image.src | product_img_url: '1024x1024' }}'
             data-zoom-image="{{ main_url_image | product_img_url: '2048x2048' }}"
             alt="{{ main_url_image.alt | escape }}" />
      </div>
      <div class="mediaholder"{% if product.featured_media.media_type == 'image' %} style="display: none;"{% endif %}>
        {% include 'media' %}
      </div>
    </div>

    {%- if item.show_thumbnails and product.media.size > 1  -%}
    <div class="product-images-carousel tt-product-single-carousel-horizontal">
      <ul id="smallGallery" class="arrow-location-02 slick-animated-show-js{% if op_group != false %} withfiltres{% endif %}">
        {%- assign vfilter = '' -%}
        {% for media in product.media %}
        {%- if op_group != false -%}{%- assign _v = 'filter' | append: op_group[forloop.index0] | replace: ' ', '_' -%}{%- endif -%}
        <li class="{{ _v }}">
          {%- if media.media_type == 'video' or media.media_type =='external_video' -%}
          <a href="#"
             {% if forloop.first %} class="zoomGalleryActive"{% endif %}
             data-image="{{ 'dummy.png' | asset_url }}" 
             data-target="{{ media.id }}"
             data-item-type="{{ media.media_type }}">
            <div class="prpage-video-play-icon">
              {% render "svg-product-page-play" %}
            </div>
            <img srcset="{{ media.preview_image | img_url: '300x' }}" data-lazy="{{ media.preview_image | img_url: 'medium' }}" alt="{{ media.alt }}">
          </a>
          {%- elsif media.media_type == 'model' -%}
          <a href="#"
             {% if forloop.first %} class="zoomGalleryActive"{% endif %}
             data-image="{{ 'dummy.png' | asset_url }}" 
             data-target="{{ media.id }}"
             data-item-type="{{ media.media_type }}">
            <div class="prpage-video-cube-icon">
              {% render "svg-product-page-cube" %}
            </div>
            <img srcset="{{ media.preview_image | img_url: '300x' }}" data-lazy="{{ media.preview_image | img_url: 'medium' }}" alt="{{ media.alt }}">
          </a>
          {%- else -%}
          <a href="#"
         
             {% if forloop.first %} class="zoomGalleryActive"{% endif %}
             data-image="{{ media.preview_image | img_url: '1024x1024' }}" 
             data-zoom-image="{{ media.preview_image | img_url: '2048x2048' }}"
             data-target="{{ media.id }}"
             data-item-type="{{ media.media_type }}">
            <img srcset="{{ media.preview_image | img_url: '300x' }}" data-lazy="{{ media.preview_image | img_url: 'medium' }}" alt="{{ media.alt }}">
          </a>
          {%- endif -%}
        </li>
        {%- if op_group != false -%}{%- assign vfilter = vfilter | replace: _v, ' ' | append: _v | append: ' ' -%}{%- endif -%}
        {%- endfor -%}
        {%- assign vfilter = '<li class="' | append: vfilter | append: '">' -%}
        {% include 'product_page_gallery_video' tagopen:vfilter tagclose:'</li>' %}
      </ul>
    </div>
    {%- endif -%}
  {% if item.stickygallery %}</div>{% endif %}
</div>
{%- endcase -%}